# 简单动态字符串 （SDS）

是一种redis 内部的字符串，扩展补充了C的字符串数组的不足。

结构如下：
```c
struct {
    int len;
    int free;
    char buf [];
}
```
里面记录了长度，预留闲置空间，和字节数组。长度表示实际长度，free 表示空闲空间， buf 表示数据内容。

与C语言中字符数组的区别。
1. O(1) 时间获取字符串长度
2. 防止缓存区溢出和内存泄露。（增大数组空间不够，缩短数组未释放空间）
3. 调整数组时预分配最大1M的空间
4. 二进制安全